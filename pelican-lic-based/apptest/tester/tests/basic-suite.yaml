actions:
  - name: Pelican login with correct credentials
    bashTest:
      script: |-
        curl -X POST 'http://${EXTERNAL-IP}:8080/api/raven/web/login' --header 'Content-Type: application/json' --data-raw '{"username": "YWRtaW4=","password": "QWRtaW4kMzIxIQ=="}'
      expect:
        stdout:
          matches: true
          exitCode:
            equals: 0
  - name: Pelican login with incorrect credentials
    bashTest:
      script: |-
        curl -X POST 'http://${EXTERNAL-IP}:8080/api/raven/web/login' --header 'Content-Type: application/json' --data-raw '{"username": "YWRtaW4=","password": "QWRtaW4kMzIxIQ=="}'
      expect:
        stdout:
          matches: false
          exitCode:
            equals: 0
